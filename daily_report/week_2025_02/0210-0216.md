# 周报
汇报人：向辉
## 时间分配
- 20小时：完成了近无损代码并测试和训练
- 15小时：修改JPEG无损压缩论文细节
- 5小时：读论文
  
## 讨论
- 关于近无损，定义目标是：使用端到端框架对JPEG进行编码减少码率，对于解码出的图像质量**无限接近**或者**超过**JPEG的压缩质量。目标是是是解码的图像更接近于原图，而不是接近于JPEG解码出的图像。
- 提出关于artifact bits reduction的概念，在JPEG压缩中，JPEG的噪声也是占码率的，如果能去掉这些artifact bits，那么在减少码率的同时，也能保持图像质量。相当于融合了两个任务的目标：1. JPEG artifact removal 2. JPEG recompression，且大大提升了JPEG再压缩的压缩效率。
- 在模型设计上，目前使用了有损和无损相结合的方法，对于JPEG的高频，数据稀疏，使用无损方法，对于低频，数据稠密，使用有损方法。损失函数使用$bpp+\lambda*max(reinforce, mse_{rec} - mse_{jpeg})$, 其中$mse_{rec}$是重建图像和原图的mse，$mse_{jpeg}$是JPEG解码出的图像和原图的mse。调整$\lambda$和reinforce的值，使得重建图像的mse超过JPEG解码出的图像的mse，即可达到近无损的效果。
- 阶段性训练的最优结果(Q=75, YCbCr:4:2:0)：（调整$\lambda$和reinforce的值，以及调整有损和近无损的频率比例）

| | bpp | mse| reinforce| lambda|
|---|---|---|---|---|
|JPEG|1.369(-0%)|0.00042139|||
|our lossless|0.894(-34.7%)|0.00042139|||
|our lossy|0.777(-43.24%) |0.000434158 |0|10000|
|ours lossy and lossless mixed|0.582(-57.48%)|0.0004028|0.0001|10000|

目前测试结果如上，我觉得我需要进一步确认一下代码没有bug。
  
- 对JPEG无损压缩论文修改细节，比如括号前要有空格，参考文献格式要求，公式编号问题，并重画原来的png图片为矢量可编辑图片。

## 计划
- 20小时：修改JPEG无损压缩论文
- 10小时：讨论近无损压缩方法和进一步改进策略
- 10小时： 写实际码流，验证实际压缩的码流与估计的码流一致性